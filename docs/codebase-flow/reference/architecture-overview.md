ARCH_OVERVIEW: vanilla JS PWA;principles:simplicity(no build/bundlers),progressive(offline PWA),mobile-first(touch+responsive),0 deps(except QR libs),localStorage persist,debounced ops,MVC+ViewModel;why:min bundle,no dep mgmt,direct perf control,long-term maintain,easy understand;layers:L0 config(constants,selectors,classes,timing,theme,frozen,all magic nums→here);L1 utils(pure funcs:genID,escapeHTML,formatDate,debounce,safeJSON);L2 core services(storage:load/save/migrate/defaults,sync:compress/decompress/format convert);L3 data mgmt(task-manager:CRUD,move,subtasks,deadlines,sort/filter,ViewModel methods,holds app ref→access app.data);L4 UI components(renderer:PURE VIEW 264 lines,NO events,NO logic,DOM create from render-ready data,interaction-manager:long press,swipe,tolerance,feedback,deadline-picker:date UI,pomodoro:25m timer+rounds+notify+haptic);L4.5 event controllers(task-controller:EVENT DELEGATION,6-8 listeners replace 80+,handles ALL task interactions,integrates LongPressManager,touchState tracking);L5 features(import-export-manager:file/clipboard/QR+merge,qr-handler:ultra-compress+encode+display,qr-scanner:camera+detect+decode,dev-mode:debug+perf+logging);L6 app(orchestrate,load data,instantiate modules,bind events,state mgmt,debounced save/render,rollover,notify);MVC+ViewModel pattern:TaskManager=Model+ViewModel(getRenderData→hierarchical pre-sorted data),TaskController=Controller(event delegation→business logic calls),Renderer=View(pure presentation,receives render-ready data);data flow:unidirectional:User→TaskController→TaskManager(Model)→app.data→Storage→TaskManager.getRenderData(ViewModel)→Renderer(View)→DOM→TaskController.bindTaskListEvents;app.data=single source truth{tasks[],lastUpdated,currentDate,totalCompleted,version};state mutations only→TaskManager/import/rollover;Renderer=read-only;events:DOM events→TaskController delegated listeners→TaskManager methods→state change→save+render→rebind events;debounce:saveData(clearTimeout+setTimeout 100ms,batch rapid),render(clearTimeout+setTimeout 16ms,60fps);why:typing=many changes,localStorage writes expensive,DOM updates expensive;module comm:composition not inheritance(no hierarchies,App composes modules,pass this ref→access app.data/saveData/render),dependency injection(modules receive deps≠create,enables testing+clear deps+loose coupling);perf:1.min DOM(batch updates,targeted ops),2.CSS anims(GPU-accelerated transforms,300ms→150ms,2x faster),3.event delegation(6-8 listeners replace 80+,10x reduction,scales to 1000s),4.debouncing(reduce unnecessary work),5.no vDOM(direct DOM fast for app size);security:XSS prevent(escapeHTML all input),no eval/dynamic scripts,no innerHTML+user(textContent),localStorage only(no CSRF/auth vulns/leaks);PWA:service worker(cache static,offline),manifest(install mobile),responsive(mobile-first,swipe,long press,mobile nav);extensibility:add feature(1.create module scripts/ 2.HTML load order 3.app instantiate 4.access this.app 5.trigger saveData+render),modify data(1.Config constants 2.Storage.getDefaultData 3.migration 4.increment v 5.TaskManager handle),add UI(1.Renderer method 2.CSS 3.Config constants 4.TaskController events);priorities:clarity(easy find),maintainability(localized changes),performance(optimize common case,10x fewer listeners),reliability(min ext deps);modular layered MVC+ViewModel→new devs find changes without understanding all;v1.19.0 improvements:separation of concerns(View,Controller,Model+ViewModel),10x perf(event listeners),2x faster anims,52% smaller renderer